<!DOCTYPE html>
<html>
<head>
    <script src="js/face-api.js"></script>
    <script src="js/commons.js"></script>
    <script src="js/faceDetectionControls.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.css">
    <link rel="stylesheet" href="/live2d/css/live2d.css" />
    <link rel="stylesheet" href="css/easyui.css"/>
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/jquery.easyui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>


</head>
<body style="background-color: #EBEEEF">
<canvas id="live2d" style="position: absolute; z-index:10" height="600px" class="live2d"></canvas>

<div style="text-align: center; background-color: #EBEEEF">
    <div class="center-content page-container" >

        <div class="progress" id="loader">
            <div class="indeterminate"></div>
        </div>
        <div style="position: relative" class="margin">
            <video onloadedmetadata="onPlay(this)" id="inputVideo" autoplay muted playsinline></video>
            <canvas id="overlay" />
        </div>

        <div class="row side-by-side">

            <!-- face_detector_selection_control -->
            <div id="face_detector_selection_control" class="row input-field" style="margin-right: 20px; text-align: left">
                <select id="selectFaceDetector">
                    <option value="ssd_mobilenetv1">SSD Mobilenet V1</option>
                    <option value="tiny_face_detector">Tiny Face Detector</option>
                    <option value="mtcnn">MTCNN</option>
                </select>
                <label>Select Face Detector</label>
            </div>
            <!-- face_detector_selection_control -->

            <!-- check boxes -->
            <div class="row" style="width: 220px;text-align: left">
                <input type="checkbox" id="withFaceLandmarksCheckbox" onchange="onChangeWithFaceLandmarks(event)" />
                <label for="withFaceLandmarksCheckbox">Detect Face Landmarks</label>
                <input type="checkbox" id="hideBoundingBoxesCheckbox" onchange="onChangeHideBoundingBoxes(event)" />
                <label for="hideBoundingBoxesCheckbox">Hide Bounding Boxes</label>
            </div>
            <!-- check boxes -->

            <!-- fps_meter -->
            <div id="fps_meter" class="row side-by-side" style="text-align: left">
                <div>
                    <label for="time">Time:</label>
                    <input disabled value="-" id="time" type="text" class="bold">
                    <label for="fps">Estimated Fps:</label>
                    <input disabled value="-" id="fps" type="text" class="bold">
                </div>
            </div>
            <!-- fps_meter -->

        </div>

        <!-- ssd_mobilenetv1_controls -->
        <span id="ssd_mobilenetv1_controls" style="text-align: left">
      <div class="row side-by-side">
        <div class="row">
          <label for="minConfidence">Min Confidence:</label>
          <input disabled value="0.5" id="minConfidence" type="text" class="bold">
        </div>
        <button
                class="waves-effect waves-light btn"
                onclick="onDecreaseMinConfidence()"
        >
          <i class="material-icons left">-</i>
        </button>
        <button
                class="waves-effect waves-light btn"
                onclick="onIncreaseMinConfidence()"
        >
          <i class="material-icons left">+</i>
        </button>
      </div>
    </span>
        <!-- ssd_mobilenetv1_controls -->

        <!-- tiny_face_detector_controls -->
        <span id="tiny_face_detector_controls" style="text-align: left">
      <div class="row side-by-side">
        <div class="row input-field" style="margin-right: 20px;">
          <select id="inputSize">
            <option value="" disabled selected>Input Size:</option>
            <option value="160">160 x 160</option>
            <option value="224">224 x 224</option>
            <option value="320">320 x 320</option>
            <option value="416">416 x 416</option>
            <option value="512">512 x 512</option>
            <option value="608">608 x 608</option>
          </select>
          <label>Input Size</label>
        </div>
        <div class="row">
          <label for="scoreThreshold">Score Threshold:</label>
          <input disabled value="0.5" id="scoreThreshold" type="text" class="bold">
        </div>
        <button
                class="waves-effect waves-light btn"
                onclick="onDecreaseScoreThreshold()"
        >
          <i class="material-icons left">-</i>
        </button>
        <button
                class="waves-effect waves-light btn"
                onclick="onIncreaseScoreThreshold()"
        >
          <i class="material-icons left">+</i>
        </button>
      </div>
    </span>
        <!-- tiny_face_detector_controls -->

        <!-- mtcnn_controls -->
        <span id="mtcnn_controls" style="text-align: left">
      <div class="row side-by-side">
        <div class="row">
          <label for="minFaceSize">Minimum Face Size:</label>
          <input disabled value="20" id="minFaceSize" type="text" class="bold">
        </div>
        <button
                class="waves-effect waves-light btn"
                onclick="onDecreaseMinFaceSize()"
        >
          <i class="material-icons left">-</i>
        </button>
        <button
                class="waves-effect waves-light btn"
                onclick="onIncreaseMinFaceSize()"
        >
          <i class="material-icons left">+</i>
        </button>
      </div>

    </span>
        <!-- mtcnn_controls -->
        <div>
            <a class="waves-effect waves-light btn" href="video.html">
                <i class="material-icons">video test</i>
            </a>
        </div>
        <div style="margin-top: 2em">
            <label for="csiec">csiec:</label>
            <input id="csiec" disabled type="text"/>
            <label for="userwords" id="user"></label>
            <input id="userwords" type="text"/>
        </div>

            <a class="waves-effect waves-light btn" id="btnSend">
                <i class="material-icons">send</i>
            </a>

        <audio id="audio" autoplay="autoplay"></audio>
    </div>
</div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="js/faceRecognition.js"></script>
    <script type="text/javascript">
        let message_Path = './live2d/';
        let home_Path = 'https://haremu.com/';
    </script>
    <script type="text/javascript" src="./live2d/js/live2d.js"></script>
    <!--    <script type="text/javascript" src="./live2d/js/message.js"></script>-->
    <script type="text/javascript">
        loadlive2d("live2d", "./live2d/model/live2d-widget-model-haruto/assets/haruto.model.json");
        $("#live2d").draggable();
    </script>
</body>
</html>